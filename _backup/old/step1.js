function loadTemplates(n){console.log("loadTemplates("+n+")");var t=templateIDArray.splice(0,n),i=t.length;templatesLoaded<templatesTotal&&($(t).each(function(n){$("#template-list").append(printTemplate(t[n]));console.log(n);i==n+1&&hideLoadingSpinner()}),showLoadingSpinner())}function printTemplate(n){var t=0,i="";return t=n,templatesLoaded++,i="\t\t\t<div id='template-thumbnail-"+templatesLoaded+"' class='template-thumbnail'>\t\t\t<a href='#_' >\t\t\t\t<img onload='$(this).fadeIn();' class='template-image' onclick='templatePreview("+t+")' src='./images/templates/thumbnails/"+t+".jpg'  />\t\t\t<\/a>\t\t\t<div class='overlay'>\t\t\t\t<a class='b2t-button preview' href='#_' onclick='templatePreview("+t+")'><span class='glyphicon glyphicon-zoom-in'><\/span><span class='text'>Preview<\/span><\/a>\t\t\t\t<a class='b2t-button select' href='#_' onclick='templateChoose("+t+")'><span class='glyphicon glyphicon-ok-circle'><\/span><span class='text'>Choose this Template<\/span><\/a>\t\t\t<\/div>\t\t<\/div>\t\t",console.log("Templates Loaded: "+templatesLoaded),i}function xmlLoaded(n){console.log("xmlLoaded()");parseXML(n)}function checkToScroll(n){var t=$(window).scrollTop(),r=t+$(window).height(),i=$(n).offset().top,u=i+$(n).height();return u>=t&&i<=r&&u<=r&&i>=t}function showLoadingSpinner(){spinnerVisible==!1&&($("#loading-div").fadeIn(500),spinnerVisible=!0)}function hideLoadingSpinner(){spinnerVisible==!0&&($("#loading-div").fadeOut(500),spinnerVisible=!1)}function parseXML(n){console.log("parseXML()");var t=$(n).find("template-id").length;templatesTotal=t;$(n).find("template-id").each(function(n,i){templateIDArray.push($(i).text());t==n+1&&loadTemplates(27)})}function templatePreview(n){var t="images/templates/previews/"+n+".jpg";if(n==undefined||n==null||n==0)return console.log("templatePreview(): ERROR: Missing argument. Requires Template ID."),!1;console.log("templatePreview("+n+")");clearDemoiFrame();$("#preview-modal #buttonDemo").on("click",n,templateDemo);$("#preview-modal #buttonChoose").on("click",n,templateChoose);$("#preview-image").attr("src",t);$("#preview-modal").modal()}function templateChoose(n){if(n==undefined||n==null||n==0)return console.log("templateChoose(): ERROR: Missing argument. Requires Template ID."),showWarningModal(),!1;showLoadingModal();$("#step1form #templateID").val(n);console.log($("#step1form #templateID").val());$("#step1form").submit()}function templateDemo(n){var t=n.handleObj.data;console.log("templateDemo("+t+")");$("#demo-iframe").attr("src","http://getbuild.today/Content/Templates/"+t+"/site/");showDemoOverlay()}function closePreviewModal(){$("#preview-modal").modal("hide")}function clearDemoiFrame(){$("#demo-iframe").attr("src","#_")}function gotoNextStep(){window.location.replace("step2.html")}function showDemoOverlay(){console.log("showDemoOverlay()");$("#demo-overlay").removeClass("hidden").fadeIn(400)}function hideDemoOverlay(){console.log("hideDemoOverlay()");$("#demo-overlay").fadeOut(400).addClass("hidden");clearDemoiFrame()}var templateXMLURL="xml/templatelist.xml",templateIDArray=[],templatesTotal=0,templatesLoaded=0,spinnerVisible=!1;$(document).ready(function(){$.get(templateXMLURL,function(n){xmlLoaded(n)})});$(document).scroll(function(){checkToScroll($("#paging-detector"))?loadTemplates(9):hideLoadingSpinner();console.log(checkToScroll($("#paging-detector")))});