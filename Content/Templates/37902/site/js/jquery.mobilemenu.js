(function(n){var t=0;n.fn.mobileMenu=function(r){function h(n){return n.is("ul, ol")}function f(){return n(window).width()<u.switchWidth}function e(i){return i.attr("id")?n("#mobileMenu_"+i.attr("id")).length>0:(t++,i.attr("id","mm"+t),n("#mobileMenu_mm"+t).length>0)}function c(n){n.val()!==null&&(document.location.href=n.val())}function o(t){t.css("display","none");n("#mobileMenu_"+t.attr("id")).show()}function l(t){t.css("display","");n("#mobileMenu_"+t.attr("id")).hide()}function a(t){if(h(t)){var r='<select id="mobileMenu_'+t.attr("id")+'" class="mobileMenu">';r+='<option value="">'+u.topOptionText+"<\/option>";t.find("li").each(function(){var t="",o=n(this).parents("ul, ol").length,f,e;for(i=1;i<o;i++)t+=u.indentString;f=n(this).find("a:first-child").attr("href");e=t+n(this).clone().children("ul, ol").remove().end().text();r+='<option value="'+f+'">'+e+"<\/option>"});r+="<\/select>";t.parent().append(r);n("#mobileMenu_"+t.attr("id")).change(function(){c(n(this))});o(t)}else alert("mobileMenu will only work with UL or OL elements!")}function s(n){f()&&!e(n)?a(n):f()&&e(n)?o(n):!f()&&e(n)&&l(n)}var u={switchWidth:768,topOptionText:"Select a page",indentString:"&nbsp;&nbsp;&nbsp;"};return this.each(function(){r&&n.extend(u,r);var t=n(this);n(window).resize(function(){s(t)});s(t)})}})(jQuery);