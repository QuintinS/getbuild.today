Login={storage:{userDomain:null,credentials:{buildLoginEmail:null,buildLoginPassword:null}},API:{loginValidate:function(){$.ajax({url:"/login/gologin.asp",method:"POST",dataType:"xml",data:Login.storage.credentials,beforeSend:Login.EventHandlers.loginValidateOnBeforeSend,error:Login.EventHandlers.loginValidateOnError,success:function(a){Login.EventHandlers.loginValidateOnSuccess(a)}})}},functions:{login:function(){var a=document.createElement("form");a.setAttribute("method","post"),a.setAttribute("action","http://"+Login.storage.userDomain+"/VirtualOffice/Login/DirectLogin.asp"),a.setAttribute("style","display:none");var b=document.createElement("input");b.setAttribute("name","buildLoginEmail"),b.setAttribute("value",Login.storage.credentials.buildLoginEmail);var c=document.createElement("input");c.setAttribute("name","buildLoginPassword"),c.setAttribute("value",Login.storage.credentials.buildLoginPassword),a.appendChild(b),a.appendChild(c),a.submit()}},EventHandlers:{loginValidateOnSuccess:function(a){var b,c=$(a).find("loggedin").text();return"true"!==c?void Login.EventHandlers.loginValidateOnError():(b=$(a).find("FD").text(),Login.storage.userDomain=b,b.length>0?void Login.functions.login():void Login.EventHandlers.loginValidateOnError())},loginValidateOnError:function(a){var b=Framework.UI.banner.print({type:"danger",animation:"animated shake",icon:"",text:"Oops! Something went wrong. Please try again later."});Framework.UI.loadingOverlay.hide(),$(".messages-container").append(b),$(".messages-container").find(".banner").delay(5e3).fadeOut(function(){$(this).remove()})},loginValidateOnComplete:function(){Framework.UI.loadingOverlay.hide()},loginValidateOnBeforeSend:function(){Framework.UI.loadingOverlay.add({text:"Logging In..."})}},forms:{validate:function(){$("#form-login").validate({rules:{buildLoginEmail:{required:!0,email:!0},buildLoginPassword:{required:!0}},messages:{buildLoginEmail:{required:"Please enter your e-mail address.",email:"Sorry, your email address is not valid. Please try again!"},buildLoginPassword:"Please enter your password."},submitHandler:function(a){Login.storage.credentials={buildLoginEmail:$("#buildLoginEmail").val(),buildLoginPassword:$("#buildLoginPassword").val()},Login.API.loginValidate()},showErrors:generateErrorList})}},reset:function(){Login.forms.validate()}},$(document).ready(function(){Login.reset()});
//# sourceMappingURL=login.js.map