Login={storage:{userDomain:null,credentials:{buildLoginEmail:null,buildLoginPassword:null}},API:{loginValidate:function(){$.ajax({url:"/login/gologin.asp",method:"POST",dataType:"xml",data:Login.storage.credentials,beforeSend:Login.EventHandlers.loginValidateOnBeforeSend,error:Login.EventHandlers.loginValidateOnError,success:function(data){Login.EventHandlers.loginValidateOnSuccess(data)}})}},functions:{login:function(){var loginForm=document.createElement("form");loginForm.setAttribute("method","post"),loginForm.setAttribute("action","http://"+Login.storage.userDomain+"/VirtualOffice/Login/DirectLogin.asp"),loginForm.setAttribute("style","display:none");var inputLogin=document.createElement("input");inputLogin.setAttribute("name","buildLoginEmail"),inputLogin.setAttribute("value",Login.storage.credentials.buildLoginEmail);var inputPassword=document.createElement("input");inputPassword.setAttribute("name","buildLoginPassword"),inputPassword.setAttribute("value",Login.storage.credentials.buildLoginPassword),loginForm.appendChild(inputLogin),loginForm.appendChild(inputPassword),loginForm.submit()}},EventHandlers:{loginValidateOnSuccess:function(data){var myDomain,myLoggedIn=$(data).find("loggedin").text();return"true"!==myLoggedIn?void Login.EventHandlers.loginValidateOnError():(myDomain=$(data).find("FD").text(),Login.storage.userDomain=myDomain,myDomain.length>0?void Login.functions.login():void Login.EventHandlers.loginValidateOnError())},loginValidateOnError:function(){var myHTML=Framework.UI.banner.print({type:"danger",animation:"animated shake",icon:"",text:"Oops! Something went wrong. Please try again later."});Framework.UI.loadingOverlay.hide(),$(".messages-container").append(myHTML),$(".messages-container").find(".banner").delay(5e3).fadeOut(function(){$(this).remove()})},loginValidateOnComplete:function(){Framework.UI.loadingOverlay.hide()},loginValidateOnBeforeSend:function(){Framework.UI.loadingOverlay.add({text:"Logging In..."})}},forms:{validate:function(){$("#form-login").validate({rules:{buildLoginEmail:{required:!0,email:!0},buildLoginPassword:{required:!0}},messages:{buildLoginEmail:{required:"Please enter your e-mail address.",email:"Sorry, your email address is not valid. Please try again!"},buildLoginPassword:"Please enter your password."},submitHandler:function(){Login.storage.credentials={buildLoginEmail:$("#buildLoginEmail").val(),buildLoginPassword:$("#buildLoginPassword").val()},Login.API.loginValidate()},showErrors:generateErrorList})}},reset:function(){Login.forms.validate()}},$(document).ready(function(){Login.reset()});
//# sourceMappingURL=login.js.map