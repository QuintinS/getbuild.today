function mySubmitHandler(){self.document.all.RegistrationForm.submit()}function changeFormActions(){"new-domain"==selectionType?($("#proceed-type-domain").removeClass("hidden"),$("#proceed-type-payment").addClass("hidden")):"free-subdomain"==selectionType||"existing-domain"==selectionType?($("#proceed-type-domain").addClass("hidden"),$("#proceed-type-payment").removeClass("hidden")):$("#proceed-actions").addClass("hidden")}function getParameterByName(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))}var TemplateID="",SelectedPricingPlan="",Stripe={API:{Keys:{TestPublishable:"pk_test_xAwJMiXYzWYs2FlhcXLVLX3M",LivePublishable:"pk_live_i85izWOGIij0CQIqFUFDCXIS"}}},FormPostLocation="",TwoCheckoutPostData={sid:"2140176",mode:"2CO",li_0_name:null,li_0_price:null,li_0_recurrence:null,card_holder_name:null,street_address:null,street_address2:null,city:null,state:null,zip:null,country:null,ship_name:null,ship_street_address:null,ship_street_address2:null,ship_city:null,ship_state:null,ship_zip:null,ship_country:null,email:null,phone:null},ClearTwoCheckoutPostData=function(){TwoCheckoutPostData={sid:"2140176",mode:"2CO",li_0_name:null,li_0_price:null,li_0_recurrence:null,card_holder_name:null,street_address:null,street_address2:null,city:null,state:null,zip:null,country:null,ship_name:null,ship_street_address:null,ship_street_address2:null,ship_city:null,ship_state:null,ship_zip:null,ship_country:null,email:null,phone:null}},CaptureTwoCheckoutPostData=function(){var myFullName="",myAddressLine1=$("#RegistrationAddressLine1").val(),myAddressLine2=$("#RegistrationAddressLine2").val(),myCity=$("#RegistrationCity").val(),myRegionName=$("#RegistrationRegion").find("option:selected").text(),myCountryName=$("#RegistrationCountry").find("option:selected").text(),myPostalCode=$("#RegistrationPostalCode").val(),myEmailAddress=$("#emailaddress").val(),myPhoneNumber=$("#RegistrationPhoneNumber").val(),mySubDomain=$("#RegistrationSubdomain").val();myFullName+=$("#RegistrationFirstName").val(),myFullName+=" ",myFullName+=$("#RegistrationLastName").val();var ProductName,ProductQuantity,ProductPrice,ProductDuration,ProductRecurrence,Product2Name,Product2Quantity,Product2Price,Product2Duration;if(TwoCheckoutPostData={sid:"2140176",mode:"2CO",card_holder_name:myFullName,street_address:myAddressLine1,street_address2:myAddressLine2,city:myCity,state:myRegionName,zip:myPostalCode,country:myCountryName,ship_name:myFullName,ship_street_address:myAddressLine1,ship_street_address2:myAddressLine2,ship_city:myCity,ship_state:myRegionName,ship_zip:myPostalCode,ship_country:myCountryName,email:myEmailAddress,phone:myPhoneNumber},"free"===SelectedPricingPlan)FormPostLocation="/trial.asp",ProductName="Build - 14 Day Trial",ProductQuantity=1,ProductPrice=0,ProductDuration="14 Days",$("#RegistrationForm [name='card_holder_name']").val(myFullName),$("#RegistrationForm [name='street_address']").val(myAddressLine1),$("#RegistrationForm [name='street_address2']").val(myAddressLine2),$("#RegistrationForm [name='city']").val(myCity),$("#RegistrationForm [name='state']").val(myRegionName),$("#RegistrationForm [name='zip']").val(myPostalCode),$("#RegistrationForm [name='country']").val(myCountryName),$("#RegistrationForm [name='email']").val(myEmailAddress),$("#RegistrationForm [name='phone']").val(myPhoneNumber),$("#RegistrationForm [name='li_0_type']").val("product"),$("#RegistrationForm [name='li_0_name']").val(ProductName),$("#RegistrationForm [name='li_0_description']").val(TemplateID),$("#RegistrationForm [name='li_0_quantity']").val(ProductQuantity),$("#RegistrationForm [name='li_0_price']").val(ProductPrice),$("#RegistrationForm [name='li_0_tangible']").val("N"),$("#RegistrationForm [name='li_0_duration']").val(ProductDuration),$("#RegistrationForm [name='li_1_type']").val("product"),$("#RegistrationForm [name='li_1_name']").val("Your chosen subdomain"),$("#RegistrationForm [name='li_1_description']").val(mySubDomain),$("#RegistrationForm [name='li_1_quantity']").val(1),$("#RegistrationForm [name='li_1_price']").val(0),$("#RegistrationForm [name='li_1_tangible']").val("N");else if("monthly"===SelectedPricingPlan)FormPostLocation="2checkout",ProductName="Build - Monthly Subscription",ProductQuantity=1,ProductPrice=20,ProductDuration="1 Month",ProductRecurrence="1 Month";else{if("yearly"!==SelectedPricingPlan)throw"Error: SelectedPricingPlan must be 'free', 'monthly' or 'yearly'.";FormPostLocation="2checkout",ProductName="Build - Yearly Subcription",ProductQuantity=1,ProductPrice=150,ProductDuration="12 Months",Product2Name="6 Months Free",Product2Quantity=1,Product2Price=0,Product2Duration="6 Months"}"free"!==SelectedPricingPlan&&(TwoCheckoutPostData.li_0_type="product",TwoCheckoutPostData.li_0_name=ProductName,TwoCheckoutPostData.li_0_description=TemplateID,TwoCheckoutPostData.li_0_quantity=ProductQuantity,TwoCheckoutPostData.li_0_price=ProductPrice,TwoCheckoutPostData.li_0_tangible="N",TwoCheckoutPostData.li_0_duration=ProductDuration,void 0!==ProductRecurrence&&(TwoCheckoutPostData.li_0_recurrence=ProductRecurrence),void 0!==Product2Name?(TwoCheckoutPostData.li_1_type="product",TwoCheckoutPostData.li_1_name="Your chosen subdomain",TwoCheckoutPostData.li_1_price=0,TwoCheckoutPostData.li_1_description=mySubDomain,TwoCheckoutPostData.li_2_type="product",TwoCheckoutPostData.li_2_tangible="N",TwoCheckoutPostData.li_2_name=Product2Name,TwoCheckoutPostData.li_2_quantity=Product2Quantity,TwoCheckoutPostData.li_2_price=Product2Price,TwoCheckoutPostData.li_2_duration=Product2Duration):(TwoCheckoutPostData.li_1_type="product",TwoCheckoutPostData.li_1_name="Your chosen subdomain",TwoCheckoutPostData.li_1_price=0,TwoCheckoutPostData.li_1_description=mySubDomain),TwoCheckoutPostData.currency_code="USD")},ResetCheckout=function(){ClearTwoCheckoutPostData(),RemoveCheckoutIFrame()},RemoveCheckoutIFrame=function(){document.getElementById("tco_lightbox")&&$("body").find(".tco_lightbox").remove()},IncludeCheckoutScript=function(){if(CaptureTwoCheckoutPostData(),PopulateTwoCheckoutPostData(),"free"===SelectedPricingPlan)Framework.UI.loadingOverlay.add({text:"Setting up your free trial..."}),document.forms.RegistrationForm.submit();else{if("monthly"!==SelectedPricingPlan&&"yearly"!==SelectedPricingPlan)throw"Error: SelectedPricingPlan must be 'free', 'monthly' or 'yearly'.";if(document.getElementById("tco_lightbox"))throw"Could not submit 2Checkout Post Data - no lightbox present.";$.getScript("/js/direct.min.js",function(){$("#tco_lightbox").on("remove",function(){console.log("Lightbox Removed"),HideLoadingOverlay()}),SubmitTwoCheckoutPostData()})}},TriggerCheckout=function(){IncludeCheckoutScript()},PopulateTwoCheckoutPostData=function(){var myFormInputName="",myFormInputValue="",myFormInput="";$("#CheckoutHiddenForm").empty();for(var property in TwoCheckoutPostData)TwoCheckoutPostData.hasOwnProperty(property)&&(myFormInputName=""+property,myFormInputValue=""+TwoCheckoutPostData[property],myFormInput="<input type='hidden' name='"+myFormInputName+"' value='"+myFormInputValue+"' />",$("#CheckoutHiddenForm").append(myFormInput));var mySubmitButton="<input name='submit' type='submit' value='Checkout' />";$("#CheckoutHiddenForm").append(mySubmitButton)},SubmitTwoCheckoutPostData=function(){$("#CheckoutHiddenForm input[type='submit']").click()},ValidateStep2Form=function(){validator=$("#RegistrationForm").validate({rules:{RegistrationFirstName:{required:!0},RegistrationLastName:{required:!0},RegistrationAddressLine1:{required:!0},RegistrationCity:{required:!0},RegistrationPostalCode:{required:!0},RegistrationCountry:{required:!0},RegistrationRegion:{required:!0},RegistrationPhoneNumber:{required:!0},emailaddress:{required:!0,email:!0,remote:{url:"/Testmail.asp",type:"post"}},RegistrationSubdomain:{pattern:"[A-Za-z0-9-]{0,61}",required:!0}},messages:{RegistrationFirstName:"Please enter your first name.",RegistrationLastName:"Please enter your last name.",RegistrationAddressLine1:"Please enter your address.",RegistrationAddressLine2:"Please enter your address.",RegistrationCity:"Please enter your city.",RegistrationPostalCode:"Please enter your postal code.",RegistrationCountry:"Please select your country.",RegistrationRegion:"Please select your region.",RegistrationPhoneNumber:"Please enter your phone number.",emailaddress:{required:"Please enter your e-mail address.",remote:"Sorry, this e-mail address has already been taken!"},RegistrationSubdomain:{pattern:"Sorry, this isn't a valid subdomain!",required:"Please enter the subdomain you would like to use.",remote:"Sorry, this subdomain has already been taken!"}},submitHandler:function(){$.ajax({url:"/domains/subdomains/CheckDomains.asp",type:"post",data:{fqdn:$("#RegistrationSubdomain").val()+".usebuild.co"}}).success(function(data){var myAuth=data;("true"===myAuth||myAuth===!0)&&(ResetCheckout(),TriggerCheckout()),("false"===myAuth||myAuth===!1)&&createErrorPopover($("#RegistrationSubdomain"),"Sorry, that subdomain is already taken.")}).fail(function(){})},errorClass:"error",validClass:"valid",showErrors:generateErrorList})},selectionType="free-subdomain",myNewDomain="",mySubDomain="";$("input[type=radio][name=domain-type]").change(function(){1==$("#proceed-actions").hasClass("hidden")&&$("#proceed-actions").removeClass("hidden")}),$("#registerSub").on("keyup",function(){mySubDomain=$("#registerSub").val(),updateMessage()});var SelectPricingPlan=function(event){var PricingPlanID=$(event.currentTarget).closest(".PricingPlan").attr("id");"PricingPlanFree"===PricingPlanID?SelectedPricingPlan="free":"PricingPlanMonthly"===PricingPlanID?SelectedPricingPlan="monthly":"PricingPlanYearly"===PricingPlanID&&(SelectedPricingPlan="yearly")};$("[data-action='SelectPricingPlan']").on("click",SelectPricingPlan);var createErrorPopover=function(element,text){var _popover;return _popover=$(element).popover({trigger:"manual",placement:"bottom",content:text,template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><div class="popover-content"><p></p></div></div></div>'}),_popover.data("bs.popover").options.content=text,$(element).popover("show")};TemplateID=getParameterByName("templateid"),ValidateStep2Form(),$(document).ready(function(){$.crs()});
//# sourceMappingURL=induction-2.js.map